<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>网侦研学社 | 新生赛排行</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="Public/home/CSS/bootstrap-3.1.1.min.css" rel='stylesheet' type='text/css' />
    <link rel="stylesheet" href="Public/home/CSS/lightbox.css">
    <!-- jQuery (necessary JavaScript plugins) -->
    <script src="Public/home/JS/bootstrap-3.1.1.min.js"></script>
    <!-- Custom Theme files -->
    <link href="Public/home/CSS/style.css" rel='stylesheet' type='text/css' />
    <!-- Custom Theme files -->

    <link rel="stylesheet" href="Public/home/CSS/blog/main.css">

    <!--//theme style-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="Responsive web template, Bootstrap Web Templates, Flat Web Templates, Andriod Compatible web template,
	Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyErricsson, Motorola web design" />

    <script src="Public/home/JS/jquery.min.js"></script>
</head>
<body>
<div class="about">
    <div class="container">

        <div class="about-top-sec">
            <h3><{$paper.title}></h3>
            <p><{$paper.startTime|date_format:'%Y年%m月%d日 %H:%M'}></p>
            <h4><a href="?c=Index&a=rank">&lt返回</a></h4>
        </div>
        <div class="about-grids">
            <div class="table-responsive">
                <table class="table">
                    <thead>
                    <tr>
                        <th>排名</th>
                        <th>用户名</th>
                        <th>得分</th>
                        <th>个签</th>
                    </tr>
                    </thead>
                    <tbody>
                    <{foreach $ranks as $user}>
                        <tr>
                            <td class="rank"><{$user.rank}></td>
                            <td class="name-td" data-userid="<{$user.user_id}>">
                                <{if $user.pic}>
                                    <img src="<{$user.pic}>" alt="lost" style="height: 20px;display: inline-block">
                                <{/if}>
                                <{$user.username}>

                            </td>
                            <td><{$user.score}></td>
                            <td class="signature" title="<{$user.signature}>"><{$user.signature}></td>
                        </tr>
                    <{/foreach}>

                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<style>
    .signature {
        max-width: 400px; /* 容器的宽度 */
        overflow: hidden; /* 设置溢出隐藏 */
        white-space: nowrap; /* 设置文本不换行 */
        text-overflow: ellipsis; /* 用省略号代替被截取掉的文本 */
    }
    table tbody tr td{
        color: #0a001f !important;
    }

    .name-td {
        cursor: pointer;
    }

</style>

<script>
    $("table tbody tr").each(function () {

        let rank = $(this).children(".rank").html();

        if (rank === "1") {
            $(this).attr("style", "background: rgb(91, 119, 60);");
        }
        else if(rank === "2") {
            $(this).attr("style", "background: rgb(140, 159, 60);");
        }
        else if(rank === "3") {
            $(this).attr("style", "background: rgb(197, 205, 93);");
        }
        else {
            $(this).attr("style", "background: rgb(233, 234, 203);");
        }
    });

    $(".name-td").click(function () {
        let id = $(this).attr("data-userid")
        window.location.href = "?c=Index&a=personal&user_id=" + id;
    });
</script>

</body>
</html>